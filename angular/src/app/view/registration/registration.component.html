<div id="window_r">
  <img (click)="closeForm($event)" alt="" class="close" src="../../../assets/images/close.png">
  <div class="form" id="div-form">
    <h2>Реєстрація</h2>
    <form (ngSubmit)='onSubmit()' [formGroup]="registerForm" method="POST" name="form">

      <div class="form-group">
        <label class="reg_l" for=login>Логін</label>
        <input (change)="checkExistingLogin($event)"
               [ngClass]="{ 'is-invalid': submitted && f.login.errors || LoginExist}"
               class="form-control" formControlName="login" id="login" name="login"
               placeholder="Логін"
               type="text">
        <div *ngIf="(f.login.errors && (f.login.dirty || f.login.touched)) || (submitted && f.login.errors)"
             class="text-danger">
          <div *ngIf="f.login.errors.required">
            Login is required.
          </div>
          <div *ngIf="f.login.errors.minlength">
            Login must be at least 4 characters long.
          </div>
        </div>
        <div *ngIf="LoginExist" class="text-danger">
          Login exist.
        </div>
      </div>

      <div class="form-group">
        <label for="email">Email</label>
        <input (change)="checkExistingEmail($event)"
               [ngClass]="{ 'is-invalid': submitted && f.email.errors || EmailExist}" class="form-control"
               formControlName="email" id="email" name="email1"
               placeholder="Email"
               type="email">
        <div *ngIf="(f.email.invalid && (f.email.dirty || f.email.touched)) || (submitted && f.email.errors)"
             class="text-danger">

          <div *ngIf="f.email.errors.required">
            Email is required.
          </div>
          <div *ngIf="f.email.errors.pattern || f.email.errors.email">
            Email incorrect.
          </div>
        </div>
        <div *ngIf="EmailExist" class="text-danger">
          Email exist.
        </div>
      </div>

      <div class="form-group">
        <label for="pass1">Password</label>
        <input [ngClass]="{ 'is-invalid': submitted && f.pass1.errors }" class="form-control" formControlName="pass1"
               id="pass1" name="pass1" placeholder="Пароль"
               type="password">
        <div *ngIf="(f.pass1.invalid && (f.pass1.dirty || f.pass1.touched)) || (submitted && f.pass1.errors)"
             class="text-danger">

          <div *ngIf="f.pass1.errors.required">
            Password is required.
          </div>
          <div *ngIf="f.pass1.errors.minlength">
            Login must be at least 4 characters long.
          </div>
        </div>
      </div>

      <div class="form-group">
        <label for="pass2">Confirm password</label>
        <input [ngClass]="{ 'is-invalid': submitted && f.pass2.errors}" class="form-control" formControlName="pass2"
               id="pass2" name="pass2"
               placeholder="Підтвердіть пароль"
               type="password">
        <div *ngIf="(f.pass2.invalid && (f.pass2.dirty || f.pass2.touched)) || (submitted && f.pass2.errors)"
             class="text-danger">

          <div *ngIf="f.pass2.errors.required">
            Second password is required.
          </div>
          <div *ngIf="f.pass2.errors.minlength">
            Login must be at least 4 characters long.
          </div>
          <div *ngIf="f.pass2.errors.mustMatch">
            Passwords doesn't match.
          </div>
        </div>
      </div>

      <div class="form-group form-check">
        <input [ngClass]="{ 'is-invalid': submitted && f.acceptTerms.errors }" class="form-check-input"
               formControlName="acceptTerms" id="acceptTerms"
               type="checkbox"/>
        <label class="form-check-label" for="acceptTerms">Accept Terms & Conditions</label>
        <div *ngIf="submitted && f.acceptTerms.errors" class="invalid-feedback">Accept Ts & Cs is required</div>
      </div>

      <button class="btn btn-primary" type="submit">Submit</button>
    </form>
  </div>
</div>
